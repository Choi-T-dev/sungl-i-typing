<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìë°”í”„ë¡œê·¸ë˜ë° íƒ€ìì—°ìŠµ</title>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body {
    font-family: "Noto Sans KR", Arial, sans-serif;
    background: #eef1f5;
    text-align: center;
    padding: 30px;
}

#captureArea, #finalScreen {
    background: white;
    width: 720px;
    margin: auto;
    padding: 25px;
    border-radius: 14px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.school { font-size: 15px; color: #555; }
h1 { margin: 5px 0 20px; }

.info-box input {
    width: 90px;
    padding: 8px;
    margin: 0 5px;
    text-align: center;
}

button {
    padding: 10px 24px;
    margin-top: 15px;
    border-radius: 8px;
    border: none;
    background: #4a6cf7;
    color: white;
    cursor: pointer;
    font-size: 15px;
}

#game {
    position: relative;
    width: 640px;
    height: 320px;
    margin: 20px auto;
    background: #f9fafc;
    border: 2px solid #dcdfe6;
    border-radius: 10px;
}

.word {
    position: absolute;
    background: #e6ebff;
    padding: 4px 8px;
    border-radius: 6px;
}

#input {
    width: 360px;
    padding: 10px;
    font-size: 15px;
}

#finalScreen { display: none; }
.explain { text-align: left; margin-top: 20px; }
.explain p { margin: 8px 0; }
.praise {
    margin-top: 20px;
    font-size: 18px;
    color: #2e7d32;
    font-weight: bold;
}
</style>
</head>
<body>

<div id="captureArea">
    <div class="school">ì„±ì¼ì •ë³´ê³ ë“±í•™êµ</div>
    <h1>ìë°”í”„ë¡œê·¸ë˜ë° íƒ€ìì—°ìŠµ</h1>

    <div class="info-box">
        ë°˜ <input id="classNum" type="number" min="9" max="12">
        ë²ˆí˜¸ <input id="studentNum" type="number" min="1" max="25">
        ì´ë¦„ <input id="studentName" maxlength="4">
    </div>

    <button onclick="startGame()">ì‹œì‘</button>

    <div id="game"></div>

    <input id="input" placeholder="ë‹¨ì–´ ì…ë ¥" disabled>

    <div>
        ì ìˆ˜ <span id="score">0</span> |
        ì‹œê°„ <span id="time">90</span>ì´ˆ
    </div>
</div>

<div id="finalScreen">
    <h2>ğŸ‘ ì˜¤ëŠ˜ì˜ í•™ìŠµ ì •ë¦¬ ğŸ‘</h2>

    <div class="explain">
        <p>ğŸ“Œ <b>class</b> : ìë°” í”„ë¡œê·¸ë¨ì˜ ì„¤ê³„ë„</p>
        <p>ğŸ“Œ <b>public static void main</b> : í”„ë¡œê·¸ë¨ì˜ ì‹œì‘ ë²„íŠ¼</p>
        <p>ğŸ“Œ <b>if / for / while</b> : ì¡°ê±´ê³¼ ë°˜ë³µì„ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ ë¬¸ë²•</p>
        <p>ğŸ“Œ <b>ArrayList / HashMap</b> : ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ë„êµ¬</p>
        <p>ğŸ“Œ <b>try / catch</b> : ì˜¤ë¥˜ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ë³´í˜¸ ì¥ì¹˜</p>
    </div>

    <div class="praise" id="praiseText"></div>

    <button onclick="location.reload()">ì¬ì‹œë„</button>
</div>

<script>
const words=["class","public","static","void","int","if","for","while","ArrayList","HashMap","try","catch"];
let score=0,time=90,timer,spawner,startTime,activeWords=[];
const game=document.getElementById("game");
const input=document.getElementById("input");

function startGame(){
    score=0; time=90; activeWords=[];
    game.innerHTML=""; input.disabled=false; input.value=""; input.focus();
    startTime=Date.now();

    timer=setInterval(()=>{
        document.getElementById("time").textContent=--time;
        if(time<=0) endGame();
    },1000);

    spawner=setInterval(spawnWord,900);
}

function spawnWord(){
    if(activeWords.length>=6) return;
    const word=words[Math.floor(Math.random()*words.length)];
    if(activeWords.includes(word)) return;
    activeWords.push(word);

    const div=document.createElement("div");
    div.className="word";
    div.textContent=word;
    div.style.left=Math.random()*560+"px";
    div.style.top=Math.random()*280+"px";
    game.appendChild(div);
}

input.addEventListener("input",()=>{
    const val=input.value.trim();
    const idx=activeWords.indexOf(val);
    if(idx>-1){
        activeWords.splice(idx,1);
        [...document.querySelectorAll(".word")].find(w=>w.textContent===val).remove();
        score++; document.getElementById("score").textContent=score;
        input.value="";
    }
});

function endGame(){
    clearInterval(timer); clearInterval(spawner);
    input.disabled=true;

    html2canvas(document.getElementById("captureArea")).then(()=>{
        document.getElementById("captureArea").style.display="none";
        document.getElementById("finalScreen").style.display="block";
        document.getElementById("praiseText").textContent =
        "ëê¹Œì§€ ì§‘ì¤‘í•´ì„œ ë„ì „í•œ ëª¨ìŠµì´ ì •ë§ í›Œë¥­í•©ë‹ˆë‹¤! ğŸ‘ " +
        "ìë°” ë¬¸ë²•ì— ëŒ€í•œ ì´í•´ë ¥ê³¼ ì„±ì‹¤í•œ íƒœë„ê°€ ì˜ ë“œëŸ¬ë‚¬ì–´ìš”. " +
        "ì´ëŸ° ìì„¸ë¼ë©´ í”„ë¡œê·¸ë˜ë° ì‹¤ë ¥ì´ ê³„ì† ì„±ì¥í•  ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤! ğŸŒŸ";
    });
}
</script>

</body>
</html>
